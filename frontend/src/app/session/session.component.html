<div class="container">
  
  <div class="header">
    <h1>Nombre étudiants connectés : {{NBStudentsOnline}}</h1>
    <h1>{{actualQCM.nomQCM}}</h1>
    <h2>{{actualQCM.matiereQCM}}</h2>
  </div>

  <p *ngIf="sessionStoped" class="sessionInfo">Session terminée</p>
  <p *ngIf="sessionStarted" class="sessionInfo">Session en cours</p>

  <div id="panelTeacher" *ngIf="isTeacher">

    <a (click)="newQuestion()">Nouvelle question</a>
    <a (click)="startSession()" *ngIf="!sessionStarted">Démarrer la session</a>
    <a (click)="stopSession()" *ngIf="sessionStarted">Fermer la session</a>
    <div id="listAnswerDiv">

      <ng-container *ngFor="let question of listAnswerEleve ; let i = index ">
        <h2 class="questionEnonce">{{actualQCM.listQuestions[i].enonce}}</h2>
        <div class="listChoixStyle teacher" *ngFor="let r of actualQCM.listQuestions[i].listChoix ; let j = index">
          <p [class.trueP]="r.isValid" [class.neutralP]="!r.isValid"><span [class.activeSpan]="'cbResult'+j">{{prefixResponse[j]}}</span>{{r.texteChoix}}</p>
        </div>
        <ng-container class="resultContainer" *ngFor="let answerEleve of question">
          <div class="choixStudent" [class.trueP]="answerEleve.goodResponse" [class.falseP]="!answerEleve.goodResponse" ><p>{{answerEleve.nomEleve[0]}}</p></div>
        </ng-container>
      </ng-container>
    </div>
  </div>
  
  <div id="formDivQuestion" *ngIf="sessionStarted && !isTeacher">
    <form #questionForm="ngForm" id="formDiv" (ngSubmit)="onQuestionSent(questionForm)">
      <p class="questionEnonce">{{actualQuestion.enonce}}</p>

      <div class="listChoixStyle student" *ngFor="let ch of actualQuestion.listChoix ; let k = index">
        <p [class.activeP]="'cbResult'+k"><span
            [class.activeSpan]="'cbResult'+k">{{prefixResponse[k]}}</span>{{ch.texteChoix}}</p>
        <input [(ngModel)]="'cbResult'+k" name="cb{{k}}" type="checkbox">
      </div>

      <input class="sendBtn" type="submit" value="Valider">
    </form>
  </div>

</div>
